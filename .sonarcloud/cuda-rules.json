{
  "cuda_analysis_rules": {
    "kernel_rules": {
      "thread_divergence": {
        "severity": "MAJOR",
        "description": "Check for potential thread divergence in CUDA kernels",
        "patterns": [
          "if\\s*\\([^\\)]+\\)\\s*{[^}]*}\\s*else\\s*{",
          "switch\\s*\\([^\\)]+\\)",
          "while\\s*\\([^\\)]+\\)",
          "for\\s*\\([^\\)]+\\)"
        ]
      },
      "memory_coalescing": {
        "severity": "CRITICAL",
        "description": "Ensure proper memory access patterns for coalescing",
        "patterns": [
          "threadIdx\\.x\\s*[+\\-*/]",
          "blockIdx\\.x\\s*[+\\-*/]"
        ]
      },
      "shared_memory": {
        "severity": "MAJOR",
        "description": "Check shared memory bank conflicts",
        "patterns": [
          "__shared__\\s+[^;]+;",
          "atomicAdd",
          "atomicSub",
          "atomicExch"
        ]
      },
      "sync_primitives": {
        "severity": "BLOCKER",
        "description": "Validate synchronization primitive usage",
        "patterns": [
          "__syncthreads\\s*\\(\\)",
          "__syncwarp\\s*\\(\\)",
          "__threadfence\\s*\\(\\)"
        ]
      }
    },
    "memory_rules": {
      "memory_transfers": {
        "severity": "CRITICAL",
        "description": "Check for proper CUDA memory transfer patterns",
        "patterns": [
          "cudaMemcpy\\s*\\([^\\)]+\\)",
          "cudaMalloc\\s*\\([^\\)]+\\)",
          "cudaFree\\s*\\([^\\)]+\\)"
        ]
      },
      "pinned_memory": {
        "severity": "MAJOR",
        "description": "Verify proper use of pinned memory",
        "patterns": [
          "cudaMallocHost\\s*\\([^\\)]+\\)",
          "cudaHostAlloc\\s*\\([^\\)]+\\)",
          "cudaFreeHost\\s*\\([^\\)]+\\)"
        ]
      }
    },
    "performance_rules": {
      "occupancy": {
        "severity": "MAJOR",
        "description": "Check kernel launch parameters for optimal occupancy",
        "patterns": [
          "<<<\\s*[^,]+,\\s*[^,]+,\\s*[^>]+>>>",
          "cudaOccupancyMaxPotentialBlockSize"
        ]
      },
      "arithmetic_intensity": {
        "severity": "MINOR",
        "description": "Analyze arithmetic intensity of kernels",
        "patterns": [
          "float\\s+[^;]+;",
          "double\\s+[^;]+;",
          "[+\\-*/]"
        ]
      }
    },
    "error_handling": {
      "cuda_errors": {
        "severity": "BLOCKER",
        "description": "Ensure proper CUDA error checking",
        "patterns": [
          "cudaGetLastError\\s*\\(\\)",
          "cudaError_t\\s+[^;]+;",
          "cudaSuccess"
        ]
      }
    }
  },
  "analysis_profiles": {
    "default": {
      "enabled_rules": ["kernel_rules", "memory_rules", "performance_rules", "error_handling"],
      "exclude_patterns": [
        "**/test/**",
        "**/samples/**",
        "**/external/**"
      ]
    },
    "strict": {
      "enabled_rules": ["kernel_rules", "memory_rules", "performance_rules", "error_handling"],
      "severity_threshold": "MINOR",
      "exclude_patterns": [
        "**/external/**"
      ]
    },
    "performance": {
      "enabled_rules": ["kernel_rules.thread_divergence", "memory_rules.memory_transfers", "performance_rules"],
      "severity_threshold": "MAJOR"
    }
  },
  "quality_gates": {
    "cuda_specific": {
      "conditions": [
        {
          "metric": "thread_divergence_issues",
          "threshold": 0,
          "severity": ["MAJOR", "CRITICAL"]
        },
        {
          "metric": "memory_coalescing_issues",
          "threshold": 0,
          "severity": ["CRITICAL"]
        },
        {
          "metric": "cuda_error_handling",
          "threshold": 0,
          "severity": ["BLOCKER"]
        }
      ]
    }
  }
}